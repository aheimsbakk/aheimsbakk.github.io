<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="author" content="Arnulf Heimsbakk" />
    <meta name="robots" content="index, follow"/>

    <meta property="og:title" content="> /dev/null > 2>&1 - Arnulf Heimsbakk"/>
    <meta property="og:url" content="../author/arnulf-heimsbakk.html"/>
    <meta property="og:site_name" content="> /dev/null > 2>&1"/>
    <meta property="og:type" content="website"/>

    <link rel="canonical" href="../author/arnulf-heimsbakk.html" />

    <title>> /dev/null > 2>&1 - Arnulf Heimsbakk | > /dev/null > 2>&1</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" />
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" />

    <link rel="stylesheet" type="text/css" href="../theme/css/main.css" />
    <link href="http://blog.heimsbakk.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="> /dev/null > 2>&1 Atom Feed" />

    <script type="text/javascript">var switchTo5x=true;</script>
    <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
    <script type="text/javascript">
        stLight.options({
            publisher: "",
            doNotHash: false,
            doNotCopy: false,
            hashAddressBar: false
        });
    </script>
</head>

<body id="index">
    <div class="row-fluid">
        <div class="span10 offset1">
            <header id="banner" >
                <h1>
                    <a href="../">> /dev/null > 2>&1 </a>
                </h1>
                <nav class="navbar">
                    <div class="navbar-inner">
                        <ul class="nav">
                            <li ><a href="/index.html">home</a></li>
                            <li ><a href="#">|</a></li>
                            <li ><a href="../category/blog.html">blog</a></li>
                            <li ><a href="../category/uris.html">uris</a></li>
                        </ul>

                    </div>
                </nav>
            </header><!-- /#banner -->
        </div>
    </div>

    <div class="row-fluid">
        <div class="span10 offset1">
            <div class="row-fluid">
<div class="span9">
                <section>
                    <ol id="posts-list" class="hfeed" start="9">
                    <li>
                        <article>
                            <header>
                                <h1 class="entry-title">
                                    <a href="../posts/2014/2014-04-13-kernel.html" rel="bookmark" title="Permalink to Remove unused kernels">
                                       Remove unused kernels
                                    </a>
                                </h1>
                            </header>
                            <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="../author/arnulf-heimsbakk.html">Arnulf Heimsbakk</a>
    </address>

    in <a href="../category/blog.html">blog</a>

    on 2014-04-13

        |
        tags:         <a href="../tag/bash.html">bash</a>
        <a href="../tag/oneliner.html">oneliner</a>
        <a href="../tag/ubuntu.html">ubuntu</a>
        <a href="../tag/kernel.html">kernel</a>


        |
        <a href="../posts/2014/2014-04-13-kernel.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->                                <p>Removes all but current kernel and headers. This is a note for personal use. Use at your own risk :)</p>
<div class="highlight"><pre>dpkg-query -f <span class="s1">&#39;${Package}\n&#39;</span> -W <span class="p">|</span>  egrep <span class="s1">&#39;linux-(headers|image)-[[:digit:]].*(|-generic)&#39;</span> <span class="p">|</span> grep -v <span class="k">$(</span>uname -r <span class="p">|</span> sed <span class="s1">&#39;s/-generic//&#39;</span><span class="k">)</span> <span class="p">|</span> sudo xargs apt-get -q -q -yy --purge remove
</pre></div>


<h2>Breakdown</h2>
<ol>
<li>List all packages.</li>
<li>Find only linux-image and linux-header packages with version number, not the two main meta packages.</li>
<li>Remove the linux-image and linux-header for running kernel from the list.</li>
<li>Purge all listed packages from system without asking any questions.</li>
</ol>
                                <p class="readmore">
                                    <a class="btn btn-small btn-info" href="../posts/2014/2014-04-13-kernel.html">Read more...</a>
                                </p>
                            </div><!-- /.entry-content -->
                            <hr/>
                        </article>
                    </li>
                    <li>
                        <article>
                            <header>
                                <h1 class="entry-title">
                                    <a href="../posts/2014/2014-04-13-modeline.html" rel="bookmark" title="Permalink to Modeline in vim">
                                       Modeline in vim
                                    </a>
                                </h1>
                            </header>
                            <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="../author/arnulf-heimsbakk.html">Arnulf Heimsbakk</a>
    </address>

    in <a href="../category/blog.html">blog</a>

    on 2014-04-13

        |
        tags:         <a href="../tag/howto.html">howto</a>
        <a href="../tag/vim.html">vim</a>


        |
        <a href="../posts/2014/2014-04-13-modeline.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->                                <p>Options set in <code>.vimrc</code> applies to all vim files. You can use modelines to set specific vim options for one file. Modeline option must be set in <code>.vimrc</code> to take advantage of this option.</p>
<div class="highlight"><pre><span class="k">set</span> <span class="nb">modeline</span>
</pre></div>


<p>The modeline should be the first line in the file. You can set it inn multiple ways as shown below. </p>
<div class="highlight"><pre># vim: set ai et ts=4 sts=4 sw=4 tw=79 cc=80 wrap wb nu sm:
</pre></div>


<div class="highlight"><pre><span class="cm">/* vim: set enc=UTF-8 ai et ts=4 sts=4 sw=4 tw=79 cc=80 wrap wb nu sm: */</span><span class="w"></span>
</pre></div>


<div class="highlight"><pre>// vim: set enc=UTF-8 ai et ts=4 sts=4 sw=4 tw=79 cc=80 wrap wb nu sm: 
</pre></div>


<h2>Explanation</h2>
<ul>
<li><code>enc=UTF-8</code><br />
    Set encoding to UTF-8</li>
<li><code>ai</code><br />
    Auto intend</li>
<li><code>et</code><br />
    Expand tabs with spaces</li>
<li><code>ts=4</code><br />
    Tab stop set to 8</li>
<li><code>sts=4</code><br />
    Soft tab stop</li>
<li><code>sw=4</code><br />
    Shift width, used by <code>&gt;&gt;</code> and <code>&lt;&lt;</code></li>
<li><code>tw=79</code><br />
    Text width</li>
<li><code>cc=80</code><br />
    Set colour column, a colour bare at character 80</li>
<li><code>wrap</code><br />
    Wraps text, only affects how the text is displayed</li>
<li><code>wb</code><br />
    Write a backup before saving files</li>
<li><code>nu</code><br />
    Show line numbers</li>
<li><code>sm</code><br />
    Show matching brackets </li>
</ul>
<h2>Links</h2>
<p>More information in the Vim <a href="http://vimdoc.sourceforge.net/htmldoc">documentations</a> under <a href="http://vimdoc.sourceforge.net/htmldoc/options.html">options</a>.</p>
                                <p class="readmore">
                                    <a class="btn btn-small btn-info" href="../posts/2014/2014-04-13-modeline.html">Read more...</a>
                                </p>
                            </div><!-- /.entry-content -->
                            <hr/>
                        </article>
                    </li>
                    <li>
                        <article>
                            <header>
                                <h1 class="entry-title">
                                    <a href="../posts/2014/2014-04-13-getopts.html" rel="bookmark" title="Permalink to Bash getopts example">
                                       Bash getopts example
                                    </a>
                                </h1>
                            </header>
                            <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="../author/arnulf-heimsbakk.html">Arnulf Heimsbakk</a>
    </address>

    in <a href="../category/blog.html">blog</a>

    on 2014-04-13

        |
        tags:         <a href="../tag/howto.html">howto</a>
        <a href="../tag/bash.html">bash</a>


        |
        <a href="../posts/2014/2014-04-13-getopts.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->                                <p>This is a small example how to use getopts in bash. I wrote it down for my own sake, as my own cheatsheet :)</p>
<div class="highlight"><pre><span class="c">#!/bin/bash</span>

<span class="c"># Print help on stderr</span>
<span class="k">function</span> show_help<span class="o">(){</span> 
    show_usage 
    cat &gt;<span class="p">&amp;</span><span class="m">2</span> <span class="s">&lt;&lt;EOF</span>

<span class="s">Explain all about $(basename $0) here.</span>
<span class="s">EOF</span>
<span class="o">}</span>

<span class="c"># Print usage on stderr</span>
<span class="k">function</span> show_usage<span class="o">()</span> <span class="o">{</span>
    <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$(</span>basename <span class="nv">$0</span><span class="k">)</span><span class="s2"> [-a ARG] [-b] [N1 [N2 .. [NN]]]&quot;</span> &gt;<span class="p">&amp;</span>2
<span class="o">}</span>

<span class="c"># Print usage and exit with error code 1 if we don&#39;t have any options</span>
<span class="k">if</span> <span class="o">[[</span> <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
    show_usage
    <span class="nb">exit </span>1
<span class="k">fi</span>

<span class="c"># :  = make getopts silent, handle errors self</span>
<span class="c"># a: = option a expects an argument</span>
<span class="c"># b  = option b is a true false option</span>
<span class="c"># h  = option h is a true false option</span>
<span class="c">#</span>
<span class="c"># On invalid option, opt will be replaced with ? </span>
<span class="c"># and OPTARG set to argument name</span>
<span class="k">while</span> <span class="nb">getopts</span> <span class="s2">&quot;:a:bh&quot;</span> opt
<span class="k">do</span>
    <span class="k">case</span> <span class="nv">$opt</span> in
        a<span class="o">)</span>  <span class="nb">echo</span> <span class="nv">$OPTARG</span><span class="p">;;</span>
        b<span class="o">)</span>  <span class="nb">echo </span>True<span class="p">;;</span>
        h<span class="o">)</span>  show_help<span class="p">;</span> <span class="nb">exit </span>1<span class="p">;;</span>
        <span class="se">\?</span><span class="o">)</span> <span class="nb">echo</span> <span class="k">$(</span>basename <span class="nv">$0</span><span class="k">)</span> invalid option: -<span class="nv">$OPTARG</span> &gt;<span class="p">&amp;</span>2
            <span class="nb">exit </span>1
            <span class="p">;;</span>
    <span class="k">esac</span>
<span class="k">done</span>

<span class="c"># OPTIND is not reset after getopts is finished. </span>
<span class="c"># Loop through argument  [N1 [N2 .. [NN]]] </span>
<span class="k">for</span> ARG in <span class="si">${</span><span class="p">@:</span><span class="nv">$OPTIND</span><span class="si">}</span>
<span class="k">do</span>
    <span class="nb">echo</span> <span class="nv">$ARG</span>
<span class="k">done</span>
</pre></div>
                                <p class="readmore">
                                    <a class="btn btn-small btn-info" href="../posts/2014/2014-04-13-getopts.html">Read more...</a>
                                </p>
                            </div><!-- /.entry-content -->
                            <hr/>
                        </article>
                    </li>
                    <li>
                        <article>
                            <header>
                                <h1 class="entry-title">
                                    <a href="../posts/2014/2014-04-12-link.html" rel="bookmark" title="Permalink to Scaling in the Linux Networking Stack">
                                       Scaling in the Linux Networking Stack
                                    </a>
                                </h1>
                            </header>
                            <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="../author/arnulf-heimsbakk.html">Arnulf Heimsbakk</a>
    </address>

    in <a href="../category/uris.html">uris</a>

    on 2014-04-12

        |
        tags:         <a href="../tag/network.html">network</a>
        <a href="../tag/tuning.html">tuning</a>


        |
        <a href="../posts/2014/2014-04-12-link.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->                                <p>Documentation for increaseing parallelism and performance for multi-processor systems. </p>
<ul>
<li><a href="https://github.com/torvalds/linux/blob/master/Documentation/networking/scaling.txt">scaling.txt</a></li>
</ul>
                                <p class="readmore">
                                    <a class="btn btn-small btn-info" href="../posts/2014/2014-04-12-link.html">Read more...</a>
                                </p>
                            </div><!-- /.entry-content -->
                            <hr/>
                        </article>
                    </li>
                    <li>
                        <article>
                            <header>
                                <h1 class="entry-title">
                                    <a href="../posts/2014/2014-04-12-pelican.html" rel="bookmark" title="Permalink to Creating a blog based on Pelican">
                                       Creating a blog based on Pelican
                                    </a>
                                </h1>
                            </header>
                            <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="../author/arnulf-heimsbakk.html">Arnulf Heimsbakk</a>
    </address>

    in <a href="../category/blog.html">blog</a>

    on 2014-04-12

        |
        tags:         <a href="../tag/howto.html">howto</a>
        <a href="../tag/pelican.html">pelican</a>


        |
        <a href="../posts/2014/2014-04-12-pelican.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->                                <p><a href="http://getpelican.com">Pelican</a> is a static website generator written in Python. It's perfect for maintaining a tiny blog without having to mess around with databases. Static pages can be served from any Web server. Even your wireless router if you run custom firmware as <a href="http://tomato.groov.pl">Tomato by Shibby</a> or <a href="http://www.dd-wrt.com">dd-wrt</a>.</p>
<p>Running Ubuntu Trusty I chose to use Pelican package in repository. A very quick recipe for creating a blog with the default theme.</p>
<ol>
<li>
<p>Install Pelican and package for <a href="http://en.wikipedia.org/wiki/Markdown">Markdown</a> language. With Markdown you write the content in text and Pelican translates it to HTML.</p>
<div class="highlight"><pre>apt-get install python-pelican python-markdown
</pre></div>


</li>
<li>
<p>Make a directory where you want to maintain your blog.</p>
<div class="highlight"><pre>mkdir myblock; cd myblock
</pre></div>


</li>
<li>
<p>Run the Pelican quick start script and answer all the questions. Add at least one method of uploading your blog to a web server.</p>
<div class="highlight"><pre>pelican-quickstart
</pre></div>


</li>
<li>
<p>Start by creating your first page in <code>content</code> directory. Each page should have a heading with some metadata.</p>
<div class="highlight"><pre><span class="n">Title</span><span class="o">:</span> <span class="n">Creating</span> <span class="n">a</span> <span class="n">blog</span> <span class="n">based</span> <span class="n">on</span> <span class="n">Pelican</span>
<span class="n">Date</span><span class="o">:</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">12</span>
<span class="n">Category</span><span class="o">:</span> <span class="n">Blog</span>
<span class="n">Tags</span><span class="o">:</span> <span class="n">blog</span><span class="o">,</span><span class="n">howto</span>
<span class="n">Slug</span><span class="o">:</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="n">pelican</span>
<span class="n">Author</span><span class="o">:</span> <span class="n">Arnulf</span> <span class="n">Heimsbakk</span>
</pre></div>


</li>
<li>
<p>Start the local HTTP server and check how your blog is coming along.</p>
<div class="highlight"><pre>make serve
</pre></div>


</li>
<li>
<p>Point your browser to <a href="http://localhost:8000">http://localhost:8000</a></p>
</li>
<li>
<p>Upload your blog to your web server. I prefer the ssh upload option.</p>
<div class="highlight"><pre>make ssh_upload
</pre></div>


</li>
</ol>
<p>A more lengthy and better <a href="http://docs.getpelican.com/en/3.3.0/getting_started.html">getting started guide</a> on getpelican.com. I did find adam-p's <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">Markdown Cheatsheet</a> on <a href="https://github.com">github</a> quite useful. And not to forget all the themes you can <a href="https://github.com/getpelican/pelican-themes">download</a> from <a href="https://github.com">github</a>.</p>
                                <p class="readmore">
                                    <a class="btn btn-small btn-info" href="../posts/2014/2014-04-12-pelican.html">Read more...</a>
                                </p>
                            </div><!-- /.entry-content -->
                            <hr/>
                        </article>
                    </li>
                    </ol><!-- /#posts-list -->
<p class="paginator">
        <a href="../author/arnulf-heimsbakk2.html">&laquo;</a>
    Page 3 / 3
</p>
                </section><!-- /#content -->
</div>
<div class="span3">
    <section id="sidebar">
            <div>
                <h2>Browse content by</h2>
                <ul class="fa-ul">
                <li><a href="../categories.html"><i class="fa-li fa fa-tags"></i> Categories</a></li>
                <li><a href="../archives.html"><i class="fa-li fa fa-calendar"></i> Dates</a></li>
                <li><a href="../tags.html"><i class="fa-li fa fa-tag"></i> Tags</a></li>

                <li><a href="http://blog.heimsbakk.net/feeds/all.atom.xml"><i class="fa-li fa fa-rss"></i> Feed</a></li>
                </ul>
            </div><!-- /.browse -->
            <div>
                <h2>Links</h2>
                <ul>
                    <li><a href="https://isc.sans.edu">isc</a></li>
                    <li><a href="https://www.schneier.com">schneier</a></li>
                    <li><a href="http://krebsonsecurity.com">krebs</a></li>
                    <li><a href="https://www.grc.com/securitynow.htm">security now!</a></li>
                    <li><a href="https://www.eff.org">eff</a></li>
                    <li><a href="https://www.usenix.org/publications/login">;login:</a></li>
                    <li><a href="https://news.ycombinator.com">hacker news</a></li>
                    <li><a href="https://mailinator.com">mailinator</a></li>
                    <li><a href="https://duckduckgo.com">duckduckgo</a></li>
                </ul>
            </div><!-- /.Links -->
            <div>
                <h2>Social</h2>
                <ul>
                    <li><a href="https://twitter.com/aheimsbakk">twitter</a></li>
                    <li><a href="https://plus.google.com/+ArnulfHeimsbakk/posts/p/pub">google+</a></li>
                    <li><a href="http://linkedin.com/in/arnulfheimsbakk">linkedin</a></li>
                    <li><a href="http://instagram.com/1uff3#">instagram</a></li>
                    <li><a href="https://hub.docker.com/r/aheimsbakk/">docker</a></li>
                </ul>
            </div><!-- /.social -->
            <div>
                <h2>Tags</h2>
                <ul id="cloud">
                     <li class="tag-4"><a href="../tag/chrome.html">chrome</a></li>
                     <li class="tag-2"><a href="../tag/ssl.html">ssl</a></li>
                     <li class="tag-4"><a href="../tag/grub.html">grub</a></li>
                     <li class="tag-4"><a href="../tag/dropbox.html">dropbox</a></li>
                     <li class="tag-4"><a href="../tag/android.html">android</a></li>
                     <li class="tag-3"><a href="../tag/tomato.html">tomato</a></li>
                     <li class="tag-1"><a href="../tag/howto.html">howto</a></li>
                     <li class="tag-4"><a href="../tag/vpn.html">vpn</a></li>
                     <li class="tag-4"><a href="../tag/virtualbox.html">virtualbox</a></li>
                     <li class="tag-2"><a href="../tag/pelican.html">pelican</a></li>
                     <li class="tag-3"><a href="../tag/apache.html">apache</a></li>
                     <li class="tag-4"><a href="../tag/vim.html">vim</a></li>
                     <li class="tag-4"><a href="../tag/cheatsheet.html">cheatsheet</a></li>
                     <li class="tag-2"><a href="../tag/bash.html">bash</a></li>
                     <li class="tag-4"><a href="../tag/vm.html">vm</a></li>
                     <li class="tag-4"><a href="../tag/cloud.html">cloud</a></li>
                     <li class="tag-4"><a href="../tag/zram.html">zram</a></li>
                     <li class="tag-4"><a href="../tag/ubuntu.html">ubuntu</a></li>
                     <li class="tag-4"><a href="../tag/io.html">io</a></li>
                     <li class="tag-2"><a href="../tag/security.html">security</a></li>
                     <li class="tag-4"><a href="../tag/firefox.html">firefox</a></li>
                     <li class="tag-4"><a href="../tag/sound.html">sound</a></li>
                     <li class="tag-2"><a href="../tag/network.html">network</a></li>
                     <li class="tag-4"><a href="../tag/trng.html">trng</a></li>
                     <li class="tag-4"><a href="../tag/openstack.html">openstack</a></li>
                     <li class="tag-3"><a href="../tag/kernel.html">kernel</a></li>
                     <li class="tag-4"><a href="../tag/incron.html">incron</a></li>
                     <li class="tag-4"><a href="../tag/maps.html">maps</a></li>
                     <li class="tag-4"><a href="../tag/cyanogenmod.html">cyanogenmod</a></li>
                     <li class="tag-4"><a href="../tag/intel.html">intel</a></li>
                     <li class="tag-3"><a href="../tag/oneliner.html">oneliner</a></li>
                     <li class="tag-4"><a href="../tag/pstate.html">pstate</a></li>
                     <li class="tag-4"><a href="../tag/tuning.html">tuning</a></li>
                     <li class="tag-3"><a href="../tag/vagrant.html">vagrant</a></li>
                     <li class="tag-4"><a href="../tag/openvpn.html">openvpn</a></li>
                     <li class="tag-4"><a href="../tag/pulseaudio.html">pulseaudio</a></li>
                     <li class="tag-3"><a href="../tag/firmware.html">firmware</a></li>
                     <li class="tag-4"><a href="../tag/chromium.html">chromium</a></li>
                     <li class="tag-4"><a href="../tag/entropy.html">entropy</a></li>
                     <li class="tag-4"><a href="../tag/i915.html">i915</a></li>
                     <li class="tag-4"><a href="../tag/benchmark.html">benchmark</a></li>
                </ul>
             </div>
<!-- /.Tags -->
    </section><!-- /#sidebar -->
</div>
            </div>
        </div>
    </div>

    <footer id="site-footer">
        <div class="row-fluid">
            <div class="span10 offset1">
                <address>
                    <p>
                        This blog is proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                    </p>
                    <p>
                        <a href="http://github.com/jsliang/pelican-fresh/">Fresh</a> is a responsive theme designed by <a href="http://jsliang.com/">jsliang</a> and <a href="https://github.com/jsliang/pelican-fresh/graphs/contributors">contributors</a>.
                        Special thanks to <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a> and <a href="http://getbootstrap.com/">Twitter Bootstrap</a>.
                    </p>
                </address>
            </div>
        </div>
    </footer>

<script type="text/javascript">
    var disqus_shortname = 'blogheimsbakknet';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
    <script src="//code.jquery.com/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>
</body>
</html>