<!DOCTYPE html>
<html lang="en">
<head>
        <title>> /dev/null > 2>&1</title>
        <meta charset="utf-8" />
        <link href="http://blog.heimsbakk.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="> /dev/null > 2>&1 Full Atom Feed" />
        <link href="http://blog.heimsbakk.net/feeds/uris.atom.xml" type="application/atom+xml" rel="alternate" title="> /dev/null > 2>&1 Categories Atom Feed" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://blog.heimsbakk.net/">> /dev/null > 2>&1 <strong></strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li><a href="/index.html">home</a></li>
            <li><a href="#">|</a></li>
              <li><a href="http://blog.heimsbakk.net/category/blog.html">blog</a></li>
              <li class="active"><a href="http://blog.heimsbakk.net/category/uris.html">uris</a></li>
        </ul></nav><!-- /#menu -->
<section id="content">
<h2>Articles in the uris category</h2>

<ol id="post-list">
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="http://blog.heimsbakk.net/posts/2015/zram.html" rel="bookmark" title="Permalink to zram: Compressed RAM based block devices">zram: Compressed RAM based block devices</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2015-01-11T00:00:00"> sø. 11 januar 2015 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="http://blog.heimsbakk.net/author/arnulf.html">arnulf</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>From <a class="reference external" href="https://www.kernel.org/doc/Documentation/blockdev/zram.txt">zram</a> documentation: <em>The zram module creates RAM based block devices named /dev/zram&lt;id&gt; (&lt;id&gt; = 0, 1, ...). Pages written to these disks are compressed and stored in memory itself. These disks allow very fast I/O and compression provides good amounts of memory savings. Some of the usecases include /tmp storage, use as swap disks, various caches under /var and maybe many more :)</em></p>
<ul class="simple">
<li><a class="reference external" href="https://www.kernel.org/doc/Documentation/blockdev/zram.txt">zram</a></li>
</ul>
<div class="section" id="example-of-compressed-swap-in-memory">
<h2>Example of compressed swap in memory</h2>
<p>Write this commands in <code>/etc/rc.local</code> to create a 2G compressed swap partition in memory.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span class="c"># Load the module and create one zram device, /dev/zram0</span>
modprobe zram <span class="nv">num_devices</span><span class="o">=</span>1

<span class="c"># Maximum of compressed streams (keep same as CPUs)</span>
<span class="nb">echo </span>4 &gt; /sys/devices/virtual/block/zram0/max_comp_streams

<span class="c"># Size of zram0 device in k/m/g</span>
<span class="nb">echo </span>2g &gt; /sys/devices/virtual/block/zram0/disksize

<span class="c"># Comression compression algorithm to use</span>
<span class="nb">echo </span>lzo &gt; /sys/devices/virtual/block/zram0/comp_algorithm

<span class="c"># Create the swap file system</span>
mkswap /dev/zram0

<span class="c"># Enable the swap partition with high priority</span>
swapon /dev/zram0 -p 10
</pre></div>
</td></tr></table><!-- # vim: set spell spl=en: -->
</div>
 </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="http://blog.heimsbakk.net/posts/2014/2014-05-25-vagrant.html" rel="bookmark" title="Permalink to Vagrant, development environments made easy">Vagrant, development environments made easy</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-05-25T00:00:00"> sø. 25 mai 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="http://blog.heimsbakk.net/author/arnulf.html">arnulf</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>Prototyping and testing configurations and system installations is time consuming on traditional hardware. That is why I started using Vagrant for nearly all development, prototyping and testing. It's free and really easy to use. If you install <a href="https://www.virtualbox.org/">VirtualBox</a> <code>sudo apt-get install virtualbox</code> first, you'll be up and running in no time.</p>
<p>Vagrant do profile itself for developers, but <a href="https://en.wikipedia.org/wiki/Sysadmin" title="System administrator">sysadmin</a>s has much to gain by using such tools to make life easier for themselves. Automation and reproducibility is key concepts in modern system administration. We need to think more and more like developers, as much as developers need to think more and more like <a href="https://en.wikipedia.org/wiki/Sysadmin" title="System administrator">sysadmin</a>s.</p>
<p>Excerpt: <em>Create and configure lightweight, reproducible, and portable development environments.</em></p>
<ul>
<li><a href="http://www.vagrantup.com/">Vagrant</a></li>
</ul> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="http://blog.heimsbakk.net/posts/2014/2014-05-12-revocation.html" rel="bookmark" title="Permalink to Only Firefox is safe post Heartblead">Only Firefox is safe post Heartblead</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-05-12T00:00:00"> ma. 12 mai 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="http://blog.heimsbakk.net/author/arnulf.html">arnulf</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p><a href="https://en.wikipedia.org/wiki/Steve_Gibson_%28computer_programmer%29">Steve Gibson</a> have a nice round-up where he explains how certificate revocation does work and why Chrome and Chromiums certificate revocation scheme doesn't work. I recommend to read both <a href="https://en.wikipedia.org/wiki/Steve_Gibson_%28computer_programmer%29">Steve Gibson</a>'s article on <a href="https://www.grc.com/revocation/crlsets.htm">An Evaluation of the Effectiveness of Chrome's CRLSets</a> and Adam Langley's in my opinion a bit missplaced answer <a href="https://www.imperialviolet.org/2014/04/29/revocationagain.html">Revocation still doesn't work</a>.</p>
<ul>
<li>
<p><a href="https://www.grc.com/revocation.htm">Security Certificate - Revocation Awareness Test</a></p>
</li>
<li>
<p>Listen to <a href="https://www.grc.com/securitynow.htm">Security Now!</a> episode 454 <a href="https://www.grc.com/securitynow.htm#454">Certificate Revocation Part 2</a> in which Steve explains about both certificate revocation and Google's CRLSets.</p>
</li>
</ul>
<h2>How to be safe</h2>
<ol>
<li>
<p>Use Firefox until Chrome is fixed.</p>
</li>
<li>
<p>In Firefox enable hard fail on <a href="https://en.wikipedia.org/wiki/OCSP" title="Online Certificate Status Protocol">OCSP</a> errors. </p>
<p>Goto <strong>Preferences</strong> → <strong>Advanced</strong> → <strong>Certificates</strong> → <strong>Validation</strong>.</p>
<p>Check <strong>When an OSCP server connection failes, treat the certificate as invalid.</strong></p>
</li>
</ol> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="http://blog.heimsbakk.net/posts/2014/2014-05-04-ocsp.html" rel="bookmark" title="Permalink to OCSP Stapling on Apache">OCSP Stapling on Apache</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-05-04T00:00:00"> sø. 04 mai 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="http://blog.heimsbakk.net/author/arnulf.html">arnulf</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>Excerpt from Remy van Elsts tutorial: <em><a href="https://en.wikipedia.org/wiki/OCSP" title="Online Certificate Status Protocol">OCSP</a> stapling is an enhancement to the standard <a href="https://en.wikipedia.org/wiki/OCSP" title="Online Certificate Status Protocol">OCSP</a> protocol that delivers <a href="https://en.wikipedia.org/wiki/OCSP" title="Online Certificate Status Protocol">OCSP</a> responses from the server with the certificate, eliminating the need for relying parties (web users) to check <a href="https://en.wikipedia.org/wiki/OCSP" title="Online Certificate Status Protocol">OCSP</a> responses with the issuing <a href="https://en.wikipedia.org/wiki/Certificate_Authority" title="Certificate authority">CA</a>. This has the effect of reducing bandwidth, improving perceived site performance, and increasing security for everyone involved in establishing the secure session. This tutorial shows you how to set it up with <a href="http://httpd.apache.org">Apache</a>.</em></p>
<ul>
<li>Read full tutorial on <a href="https://raymii.org/s/tutorials/OCSP_Stapling_on_Apache2.html">OCSP Stapling on Apache</a></li>
</ul>
<h2>Summary</h2>
<p>Create <a href="https://en.wikipedia.org/wiki/OCSP" title="Online Certificate Status Protocol">OCSP</a> stapling configuration for <a href="http://httpd.apache.org">Apache</a>.</p>
<div class="highlight"><pre>cat <span class="s">&lt;&lt;EOF &gt; /etc/apache2/conf-available/sslstapeling.conf</span>
<span class="s">SSLUseStapling on</span>
<span class="s">SSLStaplingCache &quot;shmcb:logs/stapling-cache(150000)&quot;</span>
<span class="s">SSLStaplingResponseMaxAge 900</span>
<span class="s">EOF</span>
</pre></div>


<p>Enable configuration, test it and do a restart of <a href="http://httpd.apache.org">Apache</a> if all is OK.</p>
<div class="highlight"><pre>a2enconf sslstapeling
apache2ctl configtest
apache2ctl restart
</pre></div>


<p>Check <a href="https://en.wikipedia.org/wiki/OCSP" title="Online Certificate Status Protocol">OCSP</a> with <a href="https://www.openssl.org">OpenSSL</a>.</p>
<div class="highlight"><pre>openssl s_client -connect «yoursite»:443 -tls1 -tlsextdebug -status
</pre></div> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="http://blog.heimsbakk.net/posts/2014/2014-04-29-haveged.html" rel="bookmark" title="Permalink to Better entropy with haveged">Better entropy with haveged</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-04-29T00:00:00"> ti. 29 april 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="http://blog.heimsbakk.net/author/arnulf.html">arnulf</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>Entropy is important for generating good encryption keys. Do you have a busy server relying on crypto, generating keys, you need lot of good entropy. Or if you have a disk less system you don't get as much entropy from the kernel that you may wish. One way to get a lot of good entropy is to use haveged. Haveged is closer to a <a href="https://en.wikipedia.org/wiki/TRNG" title="True Random Number Generator">TRNG</a> than a <a href="https://en.wikipedia.org/wiki/PRNG" title="PseudoRandom Number Generator">PRNG</a>.</p>
<p>Excerpt from havegeds homepage: <em>The haveged project is an attempt to provide an easy-to-use, unpredictable random number generator based upon an adaptation of the HAVEGE algorithm. Haveged was created to remedy low-entropy conditions in the Linux random device that can occur under some workloads, especially on headless servers. Current development of haveged is directed towards improving overall reliablity and adaptability while minimizing the barriers to using haveged for other tasks.</em></p>
<ul>
<li><a href="http://www.issihosts.com/haveged">haveged - A simple entropy daemon</a></li>
</ul>
<h2>How to install</h2>
<p>Install haveged from the repository - and that's it. </p>
<div class="highlight"><pre>sudo apt-get install haveged
</pre></div>


<p>Enjoy fast good entropy. Check your entropy</p>
<div class="highlight"><pre>cat /proc/sys/kernel/random/entropy_avail
</pre></div> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="http://blog.heimsbakk.net/posts/2014/2014-04-13-ssllabs.html" rel="bookmark" title="Permalink to SSL Server Test">SSL Server Test</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-04-13T22:00:00"> sø. 13 april 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="http://blog.heimsbakk.net/author/arnulf.html">arnulf</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>Run <a href="https://www.ssllabs.com">Qualys SSL Labs</a> test to test the strength and combability of SSL certificate.</p>
<ul>
<li><a href="https://www.ssllabs.com/ssltest">SSL Server Test</a></li>
</ul> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="http://blog.heimsbakk.net/posts/2014/2014-04-13-digitalocean.html" rel="bookmark" title="Permalink to Cloud virtual machine">Cloud virtual machine</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-04-13T17:00:00"> sø. 13 april 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="http://blog.heimsbakk.net/author/arnulf.html">arnulf</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>Easiest way I know to create cloud virtual machine is to create a Droplet on Digital Ocean.</p>
<ul>
<li><a href="https://www.digitalocean.com/?refcode=2c2348527899">DigialOcean</a>. </li>
</ul> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="http://blog.heimsbakk.net/posts/2014/2014-04-12-link.html" rel="bookmark" title="Permalink to Scaling in the Linux Networking Stack">Scaling in the Linux Networking Stack</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-04-12T16:00:00"> lø. 12 april 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="http://blog.heimsbakk.net/author/arnulf.html">arnulf</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>Documentation for increaseing parallelism and performance for multi-processor systems. </p>
<ul>
<li><a href="https://github.com/torvalds/linux/blob/master/Documentation/networking/scaling.txt">scaling.txt</a></li>
</ul> </div><!-- /.entry-content -->
        </article></li>
</ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 1
</p>
</section><!-- /#content -->
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>